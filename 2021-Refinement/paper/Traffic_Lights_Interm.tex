\begin{tikzpicture}[scale=0.75]

\node[state,initial] (v1) at (90:3.5) {RS};
\node[state] (v2) at (30:3.5) {RC};
\node[state] (v3) at (330:3.5) {GS};
\node[state] (v4) at (270:3.5) {GC};
\node[state] (v5) at (210:3.5) {YS}; 
\node[state] (v6) at (150:3.5) {YC};

\draw (v1) edge[dir=90] node {\OTd{\act{onRed}}{}{}} (v1);
\draw (v1) edge node[very near start] {\OTd{\tau}{ctl \mapsto \theta\mpar{x}}{t \gets x, c \gets 0}} (v2);
\draw (v2) edge[dir=40] node[right] {\OTd{\act{onRed}}{}{}} (v2);
\draw (v2) edge[dir=350] node[right] {\OTd{\act{tick}}{}[c < t]{c \gets c + 1}} (v2);
\draw (v2) edge node {\OTd{\act{TurnGreen}}{ctl \mapsto \delta\mpar{x}}[c = t]{}} (v3);
\draw (v3) edge[dir=330] node[right] {\OTd{\act{onGreen}}{}{}} (v3);
\draw (v3) edge node[near end] {\OTd{\tau}{ctl \mapsto \theta\mpar{x}}{t \gets x, c \gets 0}} (v4);
\draw (v4) edge[dir=300] node {\OTd{\act{onGreen}}{}{}} (v4);
\draw (v4) edge[dir=230] node {\OTd{\act{tick}}{}[c < t]{c \gets c + 1}} (v4);
\draw (v4) edge node {\OTd{\act{TurnYellow}}{ctl \mapsto \delta\mpar{x}}[c = t]{}} (v5);
\draw (v5) edge[dir=180] node {\OTd{\act{onYellow}}{}{}} (v5);
\draw (v5) edge node {\OTd{\tau}{ctl \mapsto \theta\mpar{x}}{t \gets x, c \gets 0}} (v6);
\draw (v6) edge[dir=190] node[left] {\OTd{\act{onYellow}}{}{}} (v6);
\draw (v6) edge[dir=150] node[left] {\OTd{\act{tick}}{}[c < t]{c \gets c + 1}} (v6);
\draw (v6) edge node[near end] {\OTd{\act{TurnRed}}{ctl \mapsto \delta\mpar{x}}[c = t]{}} (v1);

\end{tikzpicture}
