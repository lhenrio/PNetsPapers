%\newcommand{\dbllbrack}{\{\hspace{-0.88ex}\{}
%\newcommand{\dblrbrack}{\}\hspace{-0.87ex}\}}

\newcommand\mpar[1]{{\left(#1\right)}}
\newcommand\mbrk[1]{{\left[#1\right]}}
\newcommand\mbrc[1]{{\left\{#1\right\}}}
\newcommand\mdbrk[1]{\left\ldbrack#1\right\rdbrack}
%\newcommand\card[1]{{\left|#1\right|}}
\newcommand\psubst[1]{\mbrc{\!\!\mbrc{#1}\!\!}}
%\newcommand\subst[2]{\mbrk{#1\middle/#2}}
\newcommand\midbar{\,\middle|\,}
\newcommand\mset[2]{\mbrc{#1\midbar #2}}

\newcommand\act{\mathrm}
%\newcommand\OTbase[4]{\text{\small\(%
%	\setlength\arraycolsep{2pt}\everymath{\displaystyle}%
%	\renewcommand\arraystretch{1}%
%	\begin{array}{c}%
%	#2,#3,#4 \\\noalign{\color{red}\hrule\vspace{1pt}\hrule}
%	#1
%	\end{array}\)}}
\newcommand\OTbase[4]{\ensuremath{\openrule{{#2},{#3},{#4}}{#1}}}

\newcommand\OThelperdonotuse[2][\mathit{True}]{\OTtemporary{#1}{\mpar{#2}}}
% An open transition without an arrow, used for drawing in tikz figures (OT drawing)
% first argument is the action, other three are hole actions, guards (optional argument, use [] instead of {}) and variable update
\newcommand\OTd[2]{\small\newcommand\OTtemporary{\OTbase{#1}{\mbrc{#2}}}\OThelperdonotuse}

% A flexible open transition formatted with an arrow
% first three argument are start state, end state and action
% last three argument are hole actions, guards and variable update
\newcommand\OT[3]{\OTbase{#1\OTarrow{#3}#2}}
% A generic open transition with subscript
% first argument is the main (automaton) subscript
% second argument is this specific transition subscript to distinguish it from other transitions of the same automaton
% third argument is the hole subscript (should be the concatenation of first two arguments in most cases)
% last argument is the hole set subscript (should be the same as the third argument in most cases)
\newcommand\OTx[4]{\OT{s_{#1}}{s'_{#1 #2}}{\alpha_{#1 #2}}{\beta_{#3 j}^{j \in J'_{#4}}}{g_{#1 #2}}{\psi_{#1 #2}}}
\newcommand\OTxup[2]{\OT{s_{#1}^{#2}}{s_{#1}^{#2 \prime}}{\alpha_{#1}^{#2}} {(\beta_{#1 j}^{#2})^{j \in J_{#1}^{#2 \prime}}} {g_{#1}^{#2}}{\psi_{#1}^{#2}}}
%{\alpha_{#1}^{#2}}{(\beta_{#1 j}^{#2})^{j \in J'_{#2}}{g_{#1}^{#2}}{\psi_{#1}^{#2}}}
% A generic open transition without subscript
\newcommand\OTg{\OTx{}{}{}{}}

\newcommand\bigforall{\mbox{\Large $\mathsurround0pt\forall$}}
\newcommand\bigexists{\mbox{\Large $\mathsurround0pt\exists$}}
