\newcommand\mpar[1]{{\left(#1\right)}}
\newcommand\mbrk[1]{{\left[#1\right]}}
\newcommand\mbrc[1]{{\left\{#1\right\}}}
\newcommand\mdbrk[1]{\left?#1\right?}
\newcommand\card[1]{{\left|#1\right|}}
\newcommand\psubst[1]{\mbrc{\!\!\mbrc{#1}\!\!}}
\newcommand\subst[2]{\mbrk{#1\middle/#2}}
\newcommand\midbar{\,\middle|\,}
\newcommand\mset[2]{\mbrc{#1\midbar #2}}

\newcommand\act{\mathrm}
\newcommand\OA[6]{\left<#1,#2,#3,#4,#5,#6\right>}
\newcommand\OTbase[4]{\text{\small\(%
	\setlength\arraycolsep{2pt}\everymath{\displaystyle}%
	\renewcommand\arraystretch{1}%
	\begin{array}{c}%
	#2,#3,#4 \\\noalign{\color{red}\hrule\vspace{1pt}\hrule}
	#1
	\end{array}\)}}
\newcommand\OThelperdonotuse[2][\top]{\OTtemporary{#1}{\mbrc{#2}}}
\newcommand\OTd[2]{\newcommand\OTtemporary{\OTbase{#1}{\mbrc{#2}}}\OThelperdonotuse}
\newcommand\OT[3]{\OTbase{#1\xrightarrow{\raisebox{-1.5pt}[.8\height][0pt]{\makebox[1.4\width]{\(\scriptstyle #3\)}}}#2}}
\newcommand\OTx[4]{\OT{s_{#1}}{s'_{#1 #2}}{\alpha_{#1 #2}}{\beta_{#3 j}^{j \in J'_{#4}}}{g_{#1 #2}}{\psi_{#1 #2}}}
\newcommand\OTg{\OTx{}{}{}{}}